<div class="row">
  <div class="label">Title</div>
  <Input::Text @class="input" @value={{@post.title}} @onUpdate={{fn @onUpdate 'title'}}/>
</div>

<div class="authors">
  {{#each @post.authors as |author|}}
    <div class="author">
      <div class="row">
        <div class="label">Author</div>
        <Input::Text @class="input" @value={{author.name}} @onUpdate={{fn this.updateAuthor author 'name'}}/>
      </div>
      <div class="row fill">
        <Input::Textarea @class="input" @value={{author.body}} @onUpdate={{fn this.updateAuthor author 'body'}}/>
      </div>
      <div class="row actions">
        {{#unless this.isLastAuthor}}
          {{#if author.body}}
            <Input::Button::Confirm @class="action" @value="Remove" @confirmation="Remove, sure?" @onClick={{fn this.removeAuthor author}}/>
          {{else}}
            <Input::Button @class="action" @value="Remove" @onClick={{fn this.removeAuthor author}}/>
          {{/if}}
        {{/unless}}
        {{#if (is-last @post.authors author)}}
          <div class="delimiter"></div>
          <Input::Button @class="action" @value="Add new" @onClick={{this.addAuthor}}/>
        {{/if}}
      </div>
    </div>
  {{else}}
    <div class="placeholder">No authors added</div>
  {{/each}}
</div>